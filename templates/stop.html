{% extends "base.html" %}

{% block head %}
{{ super() }}
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<meta http-equiv="refresh" content="30">

{% endblock %}

{% block content %}

<h2 id="title" class="stop-title"><button class="fa fa-star"></button>{{ stop_name }}</h2>
<div id="insert"></div>
<div id="no-filtered-results"></div>

{% endblock %}

{% block footer %}
{{ super() }}

<script>
	var json = JSON.parse('{{ data | tojson | safe}}');
	
</script>
<script src="{{ url_for('static', filename='stop.js') }}"></script>
<script src="{{ url_for('static', filename='favorites.js') }}"></script>
<script src="{{ url_for('static', filename='filter.js') }}"></script>

<script>

$(document).ready(function() {

	getStopData();
	getTimeColor();
	document.title = "{{ stop_name | safe }}" + " | MTD"

	updateActiveFilterButtons();
	showHideDepartures();

	$('.route-short-filter').click(function() {
		updateSavedFilters( $(this) );
		updateActiveFilterButtons();
		showHideDepartures();
	});

	checkIfStopIsFavorite("{{ stop_name | safe }}");
	$('.fa-star').click(function() {
		addRemoveFavorite( $(this), "{{ stop_id | safe }}", "{{ stop_name | safe }}" );
	});

})
			
</script>

{% endblock %}





