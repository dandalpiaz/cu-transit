{% extends "base.html" %}

{% block head %}
{{ super() }}
	<style>
	body {height: calc(100% - 67px);}
	#main {margin-top: 67px;}
	#full-width-bg { background: url( "{{ url_for('static', filename='img/cu.jpg') }}" ); }
	</style>
{% endblock %}

{% block content %}
	<h1 class="visually-hidden">transit | Champaign-Urbana Transit</h1>
	<div id="full-width-bg">
		<div id="search-wrap">
			<form>
				<input autocomplete="off" type="text" spellcheck="false" id="searchTxt" placeholder="Search for Stops" aria-label="Search Bus Stops"><i class="fa fa-search"></i>
			</form>

			<div id="spinner"></div>
			<ul id="search-results" style="display:none;"></ul>
		</div>
		
		<div id="favorites-container">
			<div id="favorites-wrapper">
				<h2 id="favorites-title"><i style="float:none" class="fa fa-star fav-active"></i>Favorites</h2>
				<ul id="favorites"></ul>
			</div>
		</div>

	</div>

	<p id="attribution">Data provided by <a target="_blank" href="https://mtd.org" rel="noopener">CUMTD</a></p>
{% endblock %}

{% block footer %}
{{ super() }}
<script src="{{ url_for('static', filename='js/search.js') }}"></script>
<script src="{{ url_for('static', filename='js/favorites.js') }}"></script>
<script src="{{ url_for('static', filename='js/filter.js') }}"></script>
<script>
$( document ).ready(function() {
	listFavorites();
	updateActiveFilterButtons();
	$('.route-number-filter').click(function() {
		updateNumberFilters( $(this) );
		updateActiveFilterButtons();
	});
	$('.route-direction-filter').click(function() {
		updateDirectionFilters( $(this) );
		updateActiveFilterButtons();
	});

	$('#filter-toggle').animate({right: '17px'}, "fast");
	$('#filter-toggle').animate({right: '15px'}, "fast");
});      
</script>
{% endblock %}